<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/templates/modeloGeral.xhtml">
	<ui:define name="metadata">
		<f:metadata>
			<f:event listener="#{revistaBean.carregar()}" type="preRenderView" />
		</f:metadata>
	</ui:define>
	<ui:define name="conteudo">

		<h:form id="pnlRevistasDados">
			<p:toolbar>
				<f:facet name="left">
					<h:outputText value="Cadastro de Revistas"  style="font-size:22px"/>
				</f:facet>
			</p:toolbar>

			<h:panelGrid columns="4">
				<p:commandButton value="Novo " icon="ui-icon-circle-plus"  oncomplete="PF('abrirDialog').show();"/>
				<p:commandButton value="Limpar"	actionListener="#{revistaBean.novo()}" update=":pnlRevistasDados" />
			</h:panelGrid>
		<p:dialog widgetVar="abrirDialog" closable="false" position="center" > 
		<h:panelGrid columns="2" id="pnlRevistasDados" style="margin-bot:5px">

				<p:outputLabel value="Titulo:" />
				<p:inputText maxlength="50" size="40" value="#{revistaBean.revistaCadastro.titulo}" />
						
				<p:outputLabel value="Edição:" /> 
				<p:inputText maxlength="4" size="40" value="#{revistaBean.revistaCadastro.edicao}" />
				
				<p:outputLabel value="Chamada Principal:" />
				<p:inputText maxlength="50" size="40" value="#{revistaBean.revistaCadastro.chamadaPrincipal}" />					

				<p:outputLabel value="Descrição:" />				
				<p:inputTextarea rows="2" cols="42" value="#{revistaBean.revistaCadastro.descricao}" size="1024"/>
					
				<p:outputLabel value="Palavra Chave:" />
				<p:inputText maxlength="50" size="40" value="#{revistaBean.revistaCadastro.palavraChave}" />	

				<p:outputLabel value="Autor:" />
				<p:inputText  maxlength="50" size="40"  />				
				
				<p:outputLabel value="Numero de Páginas:" />
				<p:inputText  maxlength="4" size="40" value="#{revistaBean.revistaCadastro.numerPaginas}" />
				
				<p:outputLabel value="Códig de Barras:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.codigoBarras}" />
				
				<p:outputLabel value="EAN Digital:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.eanDigital}" />									
				
				<p:outputLabel value="ISBN:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.isbn}" />
				
				<p:outputLabel value="ISSN:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.issn}" />

				<p:outputLabel value="Código Bisac" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.codigBisac}" />

				<p:outputLabel value="Descrição Bisac:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.descricaoBisac}" />

				<p:outputLabel value="Categoria:" />
				<p:inputText  maxlength="50" size="40"  />		

				<p:outputLabel value="Editora:" />
				<p:inputText  maxlength="50" size="40"  />								

				<p:outputLabel value="Preço da capa:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.precoCapa}" />
				
				<p:outputLabel value="Periodicidade:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.periodicidade}" />				

				<p:outputLabel value="Arquivo PDF" />
				<p:inputText  maxlength="50" size="40"/>

				<p:outputLabel value="EPUB:" />
				<p:inputText  maxlength="50" size="40" value="#{revistaBean.revistaCadastro.epub}" />
				
				<p:outputLabel value="Observação:" />				
				<p:inputTextarea rows="2" cols="42" size="1024"/>
																											
			</h:panelGrid>
			
			<h:panelGrid columns="5" >
				<p:commandButton value="Salvar" actionListener="#{revistaBean.salvar()}"  update="pnlRevistasDados"/>
				<p:commandButton value="Fechar"	actionListener="#{revistaBean.novo()}" update="pnlRevistasDados"/>
			</h:panelGrid>
		</p:dialog> 
			
			<p:dataTable emptyMessage="Nenhum registro encontrado!" 
				value="#{revistaBean.listarevistas}"
				filteredValue="#{revistaBean.listaRevistasFiltrado}"
				paginator="true" rows="15" var="revistaCursor"  style="font-size:15px">
				
				<p:column headerText="ID" width="3%" style="text-align:center;">
					<h:outputText value="#{revistaCursor.id}" />
				</p:column>

				<p:column headerText="Titulo Original" width="26%" filterBy="#{revistaCursor.titulo.toUpperCase()}">
					<h:outputText value="#{revistaCursor.titulo.toUpperCase()}" />
				</p:column>

				<p:column headerText="Edição" filterBy="#{revistaCursor.edicao}" width="3%" style="text-align:center">
					<h:outputText value="#{revistaCursor.edicao}" />
				</p:column>

				<p:column headerText="EAN" width="7%" filterBy="#{revistaCursor.eanDigital}">
					<h:outputText value="#{revistaCursor.eanDigital}" />
				</p:column>

				<p:column headerText="Chamada Principal"
					filterBy="#{revistaCursor.chamadaPrincipal.toUpperCase()}">
					<h:outputText value="#{revistaCursor.chamadaPrincipal.toUpperCase()}" />
				</p:column>

				<p:column headerText="Editora" width="12%"
					filterBy="#{revistaCursor.editora.nome.toUpperCase()}">
					<h:outputText value="#{revistaCursor.editora.nome.toUpperCase()}" />
				</p:column>

				<p:column headerText="Categoria" width="12%" filterBy="#{revistaCursor.categoria.nome.toUpperCase()}">
					<h:outputText value="#{revistaCursor.categoria.nome.toUpperCase()}" />
				</p:column>
				
				<p:column headerText="Periodicidade" width="8%" filterBy="#{revistaCursor.periodicidade.toUpperCase()}">
					<h:outputText value="#{revistaCursor.periodicidade.toUpperCase()}" />
				</p:column>

				<p:column headerText="Opções" width="7%" style=" text-align:center">
					<p:commandButton icon="ui-icon-pencil" style="margin-rigth:2%" />
					<p:commandButton icon="ui-icon-trash" style="margin-left:2%" />
				</p:column>

			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>
</html>





